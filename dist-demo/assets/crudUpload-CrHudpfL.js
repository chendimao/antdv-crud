import{d as w,q as D,a as $,s as h,r as V,b as C,o as P,n as _,p as r,f as b,i as y,w as m,j as F,k as s,u as S,P as B,m as k}from"./main-D7iq1scn.js";const R=s("div",{style:{"margin-top":"8px"}},"上传",-1),L=w({__name:"crudUpload",props:{modelValue:{},validateFun:{type:Function},item:{},formState:{},formData:{},isDisabled:{type:Boolean},id:{}},emits:["update:modelValue","change"],setup(d,{emit:u}){D([]);const t=d,i=u,a=$({get:()=>t.modelValue||[],set:e=>{i("update:modelValue",e)}});h(()=>{var e;(e=t.item)!=null&&e.initFun&&(a.value=t.item.initFun(t.formState),console.log(t.item,a.value,123))});const p={onChange:e=>{var o;(o=t.item.$attrs)!=null&&o.onChange&&t.item.$attrs.onChange(t.item,t.formState,t.formData,e),i("change",t.item,e)},onPreview:e=>{var o;console.log(e,114),(o=t.item.$attrs)!=null&&o.onPreview&&t.item.$attrs.onPreview(e)},onRemove:e=>{var o;(o=t.item.$attrs)!=null&&o.onRemove&&t.item.$attrs.onRemove(e)},onDownload:e=>{var o;console.log(e,126),(o=t.item.$attrs)!=null&&o.onDownload&&t.item.$attrs.onDownload(e)}};return(e,o)=>{var l;const c=V("a-upload"),f=C("render");return P(),_("div",null,[r(c,k({style:{width:"100%"},"file-list":a.value,"onUpdate:fileList":o[0]||(o[0]=n=>a.value=n),disabled:e.isDisabled,"list-type":"picture-card"},{...e.item.$attrs,...p}),b({default:m(()=>[s("div",null,[r(S(B)),R])]),_:2},[y(((l=e.item)==null?void 0:l.$slots)??[],(n,v)=>({name:v,fn:m(g=>[F(s("div",null,null,512),[[f,()=>n(e.item,e.formState,e.formData,g)]])])}))]),1040,["file-list","disabled"])])}}});export{L as default};
