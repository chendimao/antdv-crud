# 注意事项

在使用 Antdv-Crud 时，需要注意以下几点：

## 组件使用

### 搜索组件

1. 搜索组件的 `formData` 属性必须是一个对象，每个字段的配置必须包含 `type` 和 `label` 属性。

2. 搜索组件的 `formData` 属性中的字段名将作为搜索参数名，请确保与后端接口参数名一致。

3. 搜索组件的 `formData` 属性中的字段配置可以包含 `events` 属性，用于处理表单项的事件。

4. 搜索组件的 `formData` 属性中的字段配置可以包含 `hidden` 属性，用于控制表单项的显示和隐藏。

5. 搜索组件的 `formData` 属性中的字段配置可以包含 `disabled` 属性，用于控制表单项的禁用状态。

### 表格组件

1. 表格组件的 `api` 属性必须是一个对象，包含 `list` 属性，用于获取列表数据。

2. 表格组件的 `columns` 属性必须是一个数组，每个列的配置必须包含 `title` 和 `dataIndex` 属性。

3. 表格组件的 `columns` 属性中的列配置可以包含 `slots` 属性，用于自定义列的内容。

4. 表格组件的 `columns` 属性中的列配置可以包含 `events` 属性，用于处理列的事件。

5. 表格组件的 `pagination` 属性可以包含 `current`、`pageSize`、`total` 等属性，用于控制分页。

### 表单组件

1. 表单组件的 `formData` 属性必须是一个对象，每个字段的配置必须包含 `type` 和 `label` 属性。

2. 表单组件的 `formData` 属性中的字段名将作为表单参数名，请确保与后端接口参数名一致。

3. 表单组件的 `formData` 属性中的字段配置可以包含 `rules` 属性，用于设置验证规则。

4. 表单组件的 `formData` 属性中的字段配置可以包含 `events` 属性，用于处理表单项的事件。

5. 表单组件的 `formData` 属性中的字段配置可以包含 `hidden` 属性，用于控制表单项的显示和隐藏。

## 数据转换

### 表单数据转换

1. 表单组件的 `formData` 属性中的字段配置可以包含 `transform` 属性，用于转换表单数据。

2. `transform` 属性可以包含 `submit` 和 `init` 方法，分别用于提交和初始化时的数据转换。

3. `submit` 方法接收表单值作为参数，返回转换后的值。

4. `init` 方法接收后端返回的值作为参数，返回转换后的值。

### 表格数据转换

1. 表格组件的 `columns` 属性中的列配置可以包含 `transform` 属性，用于转换表格数据。

2. `transform` 属性可以包含 `display` 和 `submit` 方法，分别用于显示和提交时的数据转换。

3. `display` 方法接收列值作为参数，返回转换后的值。

4. `submit` 方法接收转换后的值作为参数，返回提交给后端的值。

## 事件处理

### 组件事件

1. 组件的事件处理函数可以接收事件参数，用于处理事件数据。

2. 组件的事件处理函数可以返回 Promise，用于异步处理事件。

3. 组件的事件处理函数可以抛出错误，用于中断事件处理。

### 自定义事件

1. 自定义组件的事件处理函数可以接收事件参数，用于处理事件数据。

2. 自定义组件的事件处理函数可以返回 Promise，用于异步处理事件。

3. 自定义组件的事件处理函数可以抛出错误，用于中断事件处理。

## 性能优化

### 组件优化

1. 使用 `v-show` 代替 `v-if` 控制组件的显示和隐藏。

2. 使用 `computed` 属性缓存计算结果。

3. 使用 `watch` 属性监听数据变化。

4. 使用 `nextTick` 处理 DOM 更新。

### 数据优化

1. 使用 `v-memo` 缓存列表项。

2. 使用 `v-once` 缓存静态内容。

3. 使用 `shallowRef` 和 `shallowReactive` 减少响应式开销。

4. 使用 `markRaw` 标记不需要响应式的数据。

## 错误处理

### 表单验证

1. 表单验证规则必须包含 `message` 属性，用于显示错误信息。

2. 表单验证规则可以包含 `validator` 方法，用于自定义验证逻辑。

3. 表单验证规则可以包含 `async` 属性，用于异步验证。

4. 表单验证规则可以包含 `trigger` 属性，用于控制验证触发时机。

### 请求错误

1. 请求错误可以通过 `catch` 方法捕获。

2. 请求错误可以通过 `finally` 方法处理。

3. 请求错误可以通过 `error` 事件处理。

4. 请求错误可以通过 `errorHandler` 配置处理。

## 主题定制

### 全局主题

1. 全局主题可以通过 `theme` 配置设置。

2. 全局主题可以包含 `primaryColor`、`successColor`、`warningColor`、`errorColor` 等属性。

3. 全局主题可以包含 `fontSize`、`borderRadius` 等属性。

4. 全局主题可以通过 CSS 变量覆盖。

### 组件主题

1. 组件主题可以通过 `style` 属性设置。

2. 组件主题可以通过 `class` 属性设置。

3. 组件主题可以通过 CSS 变量覆盖。

4. 组件主题可以通过 CSS 模块覆盖。

## 国际化

### 全局国际化

1. 全局国际化可以通过 `locale` 配置设置。

2. 全局国际化可以包含 `zh_CN`、`en_US` 等语言包。

3. 全局国际化可以通过 `i18n` 插件实现。

4. 全局国际化可以通过 `vue-i18n` 插件实现。

### 组件国际化

1. 组件国际化可以通过 `locale` 属性设置。

2. 组件国际化可以通过 `messages` 属性设置。

3. 组件国际化可以通过 `i18n` 插件实现。

4. 组件国际化可以通过 `vue-i18n` 插件实现。

## 浏览器兼容

### 浏览器支持

1. 支持 Chrome、Firefox、Safari、Edge 等现代浏览器。

2. 支持 IE 11 及以上版本。

3. 支持移动端浏览器。

4. 支持 PWA 应用。

### 兼容性处理

1. 使用 Babel 转译 ES6+ 代码。

2. 使用 PostCSS 处理 CSS 兼容性。

3. 使用 Autoprefixer 添加浏览器前缀。

4. 使用 Polyfill 填充浏览器 API。

## 开发建议

### 代码规范

1. 使用 ESLint 检查代码规范。

2. 使用 Prettier 格式化代码。

3. 使用 TypeScript 类型检查。

4. 使用 Husky 提交前检查。

### 开发工具

1. 使用 VSCode 开发。

2. 使用 Vue DevTools 调试。

3. 使用 Chrome DevTools 调试。

4. 使用 Git 版本控制。

### 测试工具

1. 使用 Jest 单元测试。

2. 使用 Cypress E2E 测试。

3. 使用 Vue Test Utils 组件测试。

4. 使用 MSW 模拟 API。

### 构建工具

1. 使用 Vite 构建。

2. 使用 Rollup 打包。

3. 使用 Webpack 打包。

4. 使用 esbuild 打包。

## 常见问题

### 组件问题

1. 组件不显示：检查组件是否正确注册。

2. 组件样式丢失：检查样式文件是否正确引入。

3. 组件事件不触发：检查事件名称是否正确。

4. 组件数据不更新：检查数据是否响应式。

### 数据问题

1. 数据不显示：检查数据格式是否正确。

2. 数据不更新：检查数据是否响应式。

3. 数据验证失败：检查验证规则是否正确。

4. 数据转换错误：检查转换方法是否正确。

### 样式问题

1. 样式不生效：检查样式优先级。

2. 样式冲突：检查样式作用域。

3. 样式覆盖：检查样式顺序。

4. 样式丢失：检查样式文件。

### 性能问题

1. 组件渲染慢：检查组件复杂度。

2. 数据加载慢：检查数据量大小。

3. 事件处理慢：检查事件处理逻辑。

4. 样式计算慢：检查样式复杂度。

## 更新日志

### 版本 2.0.0

1. 新增搜索组件。

2. 新增表格组件。

3. 新增表单组件。

4. 新增主题定制。

### 版本 2.1.0

1. 新增远程数据加载。

2. 新增表单联动。

3. 新增自定义验证。

4. 新增自定义渲染。

### 版本 2.2.0

1. 新增数据转换。

2. 新增文件上传。

3. 新增可编辑表格。

4. 新增事件总线。

### 版本 2.3.0

1. 新增国际化支持。

2. 新增浏览器兼容。

3. 新增开发建议。

4. 新增常见问题。

## 贡献指南

### 开发环境

1. 安装 Node.js。

2. 安装依赖包。

3. 启动开发服务器。

4. 运行测试用例。

### 代码提交

1. 创建功能分支。

2. 提交代码变更。

3. 创建 Pull Request。

4. 等待代码审查。

### 发布流程

1. 更新版本号。

2. 更新更新日志。

3. 构建发布包。

4. 发布到 npm。

### 文档更新

1. 更新使用文档。

2. 更新 API 文档。

3. 更新示例文档。

4. 更新贡献指南。 